1. trainRoutes - получает маршруты поездов, количество свободных мест, цены итд в нем в один конец !

Принимает параметры обязательные параметр при первом запросе

layer_id - подкатегория (5827)
Необязательные параметр при повторном запросе

dir - 0 - только в один конец, 1 - туда-обратно
tfl - 3 - поезда и электрички, 2 - электрички, 1 - поезда
checkSeats - 0, 1 - поиск в поездах только если есть свободные места
code0 - код станции отправления
code1 - код станции прибытия
dt0 - дата отправления
md - маршруты с пересадками (1 - с пересадками, 0 - только прямые рейсы)
Возвращает массив поездов и свободных мест

from - название станции отправления (САНКТ-ПЕТЕРБУРГ)
where - название станции прибытия (КИРОВ ПАСС)
date - дата отправления (27.03.2016)
fromCode - код станции отправления (2004000)
whereCode - код станции прибытия (2060600)
Массив поездов содержит

date0 - дата отправления

date1 - дата прибытия

time0 - время отправления

time1 - время прибытия

route0 - код станции отправления С-ПЕТ-ЛАД

route1 - код станции прибытия ТЮМЕНЬ

number - номер поезда

timeInWay - время в пути

brand - Название поезда (Демидовский экспресс)

carrier - тип поезда ФПК (Фирменный)

cars - массив свободных мест купе, плацкарт и люкс

cars.freeSeats - кол. свободных мест

cars.itype

cars.servCls - класс обслуживания (2Ю, 2Ж и т.д.)

cars.tariff - стоимость билета

cars.pt - баллы

cars.typeLoc - полное наименование (Плацкартный, СВ, Купе, Люкс)

cars.type - сокращенное наименование (Купе, плац, люкс)

cars.disabledPerson - флаг обозначающий места для инвалидов


/////////////////////////////////////////////////////////////////////////////////

2. trainRoutesReturn - получает маршруты поездов, количество свободных мест, цены итд, туда-обратно

Принимает параметры обязательные параметр при первом запросе

layer_id - подкатегория (5827)
Необязательные параметр при повторном запросе

dir - 0 только в один конец, 1 - туда-обратно
tfl - тип поезда (3 - поезда и электрички, 2 - электрички, 1 - поезда)
checkSeats поиск только с билетами (1 - с билетами, 0 - все поезда)
code0 - код станции отправления
code1 - код станции прибытия
dt0 - дата отправления
dt1 - дата возвращения
Ответы точно такие же как и в методе trainRoutes, только содержит 2 массива, в первом - туда, во-втором - обратно

/////////////////////////////////////////////////////////////////////////////////

3. trainCarriages - получает список вагонов, свободные места, схема вагона, стоимость билетов, тип и класс обслуживания

Необязательные параметр при повторном запросе

dir - 0 только в один конец, 1 - туда-обратно
code0 - код станции отправления
code1 - код станции прибытия
dt0 - дата отправления (28.03.2016)
time0 - время отправления (15:30)
tnum0 - номер поезда (072Е)
Возвращает следующий массив вагонов

Стандартный ответ из запросов выше

cnumber - номер вагона

type - тип вагона

typeLoc - полное наименование (Плацкартный, СВ, Купе, Люкс)

clsType - 2Л, 2Э

tariff - стоимость билета

tariffServ - сервис сбор

seats - массив мест (верхние, верхние боковые, нижние, нижние боковые итд)

seats.*.places - список свободных мест

seats.*.tariff - цены за место

seats.type - сокр. наименование мест (up)

seats.free - количество мест

seats.label - полное наименование мест (Верхние)

schemes схемы вагонов

html - json массив информация о схеме вагонов

image - ссылка на картинку

insuranceCompany - массив с компаниями страхователями и правилами страхования

shortName - наименование организации

offerUrl - ссылка на файл с правилами, обычно PDF файл

/////////////////////////////////////////////////////////////////////////////////

4. trainStationList - получение списка всех станций в текущем маршруте движения

Пример запроса https://pass.rzd.ru/ticket/services/route/basicRoute?STRUCTURE_ID=704&trainNumber=054Г&depDate=13.03.2016

Принимает параметры Необязательные параметр при повторном запросе

trainNumber - номер поезда 054Г
depDate - дата отправления 13.03.2016
Возвращает следующий массив станций

Station - название станции
Code - код станции
ArvTime - время прибытия
WaitingTime - время стоянки
DepTime - время отправления
Distance - пройденная дистанция

/////////////////////////////////////////////////////////////////////////////////

5. stationCode - Получение списка кодов станций

Принимает параметры

stationNamePart - часть названия станции, минимум 2 символа
compactMode - по умолчанию 'y'
Возвращает массив найденных данных

station - имя станции
code - код станции
К примеру при значении stationNamePart = 'ЧЕБ' будут возващены все станции начинающиеся на ЧЕБ (11 станций)